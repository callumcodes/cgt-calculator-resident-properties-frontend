@import models.resident._
@import models.resident.properties._
@import views.html.helpers.resident._
@import controllers.routes.{GainController => gainRoutes}
@import controllers.routes.{DeductionsController => deductionRoutes}
@import controllers.routes.{IncomeController => incomeRoutes}

@(gainAnswers: YourAnswersSummaryModel, deductionsAnswers: Option[ChargeableGainAnswers], taxYear: Option[TaxYearModel], incomeAnswers: Option[IncomeAnswersModel] = None, isCurrentTaxYear: Boolean = false)(implicit messages: Messages)


<section id="yourAnswers">

    <h2 class="bold-medium you-told-us-title">@Messages("calc.checkYourAnswers.tableHeading")</h2>

    <!-- Gain Answers-->
    @summaryDateRowHelper("disposalDate",Messages("calc.resident.disposalDate.question"),gainAnswers.disposalDate, Some(gainRoutes.disposalDate().toString), extraClass = "summary-overline")

    @summaryTextRowHelper("sellOrGiveAway", Messages("calc.resident.sellOrGiveAway.title"), if (gainAnswers.givenAway) {Messages("calc.resident.sellOrGiveAway.given")}
    else {Messages("calc.resident.sellOrGiveAway.sold")}, Some(gainRoutes.sellOrGiveAway().toString))

    @{if(gainAnswers.givenAway)
        summaryTextRowHelper("whoDidYouGiveItTo", Messages("calc.resident.whoDidYouGiveThePropertyTo.title"), Messages("calc.resident.whoDidYouGiveThePropertyTo.other"), Some(gainRoutes.whoDidYouGiveItTo().toString))
    }

    @{if(gainAnswers.givenAway)
        summaryNumericRowHelper("worthWhenGaveAway", Messages("calc.resident.properties.worthWhenGaveAway.title"), gainAnswers.worthWhenGaveAway.get, Some(gainRoutes.worthWhenGaveAway().toString))
    }

    @{if(!gainAnswers.givenAway)
        summaryOptionRowHelper("sellForLess", Messages("calc.resident.properties.sellForLess.title"), gainAnswers.sellForLess.get, Some(gainRoutes.sellForLess().toString))
    }

    @{if(gainAnswers.displayWorthWhenSold)
        summaryNumericRowHelper("disposalValue",Messages("calc.resident.disposal.value.question"),gainAnswers.disposalValue.get,Some(gainRoutes.disposalValue().toString))
    }

    @{if(gainAnswers.displayWorthWhenSoldForLess)
        summaryNumericRowHelper("worthWhenSoldForLess", Messages("calc.resident.properties.worthWhenSoldForLess.question"), gainAnswers.worthWhenSoldForLess.get, Some(gainRoutes.worthWhenSoldForLess().toString))
    }

    @summaryNumericRowHelper("disposalCosts",Messages("calc.resident.disposalCosts.title"),gainAnswers.disposalCosts,Some(gainRoutes.disposalCosts().toString))

    @summaryOptionRowHelper("ownerBeforeLegislationStart", Messages("calc.resident.properties.ownedBeforeLegislationStart.title"), gainAnswers.ownerBeforeLegislationStart, Some(gainRoutes.ownerBeforeLegislationStart().toString))

    @{if (gainAnswers.ownerBeforeLegislationStart)
        summaryNumericRowHelper("valueBeforeLegislationStart",Messages("calc.resident.properties.valueBeforeLegislationStart.question"),gainAnswers.valueBeforeLegislationStart.get,Some(gainRoutes.valueBeforeLegislationStart().toString))
    }

    @{if (!gainAnswers.ownerBeforeLegislationStart)
        summaryTextRowHelper("howBecameOwner", Messages("calc.resident.howBecameOwner.title"), Messages(s"calc.resident.howBecameOwner.${gainAnswers.howBecameOwner.get.toLowerCase}"), Some(gainRoutes.howBecameOwner().toString))
    }

    @{if (gainAnswers.displayBoughtForLessThanWorth)
        summaryOptionRowHelper("boughtForLessThanWorth", Messages("calc.resident.properties.boughtForLessThanWorth.title"), gainAnswers.boughtForLessThanWorth.get, Some(gainRoutes.boughtForLessThanWorth().toString))
    }

    @{if (gainAnswers.displayWorthWhenBought)
        summaryNumericRowHelper("acquisitionValue",Messages("calc.resident.acquisitionValue.title"),gainAnswers.acquisitionValue.get,Some(gainRoutes.acquisitionValue().toString))
    }

    @{if (gainAnswers.displayWorthWhenBoughtForLess)
        summaryNumericRowHelper("worthWhenBoughtForLess", Messages("calc.resident.properties.worthWhenBoughtForLess.question"), gainAnswers.worthWhenBoughtForLess.get, Some(gainRoutes.worthWhenBoughtForLess().toString))
    }

    @{if (gainAnswers.displayWorthWhenGifted)
        summaryNumericRowHelper("worthWhenGifted", Messages("calc.resident.properties.worthWhenGifted.question"), gainAnswers.worthWhenGifted.get, Some(gainRoutes.worthWhenGifted().toString))
    }

    @{if (gainAnswers.displayWorthWhenInherited)
        summaryNumericRowHelper("worthWhenInherited", Messages("calc.resident.properties.worthWhenInherited.question"), gainAnswers.worthWhenInherited.get, Some(gainRoutes.worthWhenInherited().toString))
    }

    @summaryNumericRowHelper("acquisitionCosts", Messages("calc.resident.acquisitionCosts.title"), gainAnswers.acquisitionCosts, Some(gainRoutes.acquisitionCosts().toString))

    @summaryNumericRowHelper("improvements",
    if(gainAnswers.ownerBeforeLegislationStart) Messages("calc.resident.properties.improvements.questionBefore")
    else Messages("calc.resident.properties.improvements.question"), gainAnswers.improvements,Some(gainRoutes.improvements().toString))
    <!--- Gain Answers End --->

    <!-- Deductions Answers --->
    @if(deductionsAnswers.isDefined) {

        @summaryOptionRowHelper("propertyLivedIn", Messages("calc.resident.properties.propertyLivedIn.title"), deductionsAnswers.get.propertyLivedInModel.get.livedInProperty, Some(deductionRoutes.propertyLivedIn().toString))

        @{if (deductionsAnswers.get.propertyLivedInModel.get.livedInProperty)
            summaryOptionRowHelper("privateResidenceRelief", Messages("calc.resident.properties.privateResidenceRelief.title"), deductionsAnswers.get.privateResidenceReliefModel.get.isClaiming, Some(deductionRoutes.privateResidenceRelief().toString))
        }

        @{if(deductionsAnswers.get.displayPRRValueAndLettingsRelief)
            summaryNumericRowHelper("privateResidenceReliefValue", Messages("calc.resident.privateResidenceReliefValue.title"), deductionsAnswers.get.privateResidenceReliefValueModel.get.amount, Some(deductionRoutes.privateResidenceReliefValue().toString))
        }

        @{if(deductionsAnswers.get.displayPRRValueAndLettingsRelief)
            summaryOptionRowHelper("lettingsRelief", Messages("calc.resident.lettingsRelief.title"), deductionsAnswers.get.lettingsReliefModel.get.isClaiming, Some(deductionRoutes.lettingsRelief().toString))
        }

        @{if(deductionsAnswers.get.displayLettingsReliefValue)
            summaryNumericRowHelper("lettingsReliefValue", Messages("calc.resident.lettingsReliefValue.title"), deductionsAnswers.get.lettingsReliefValueModel.get.amount, Some(deductionRoutes.lettingsReliefValue().toString))
        }

        @summaryOptionRowHelper("broughtForwardLosses",Messages("calc.resident.lossesBroughtForward.title", taxYear.get.taxYearSupplied), deductionsAnswers.get.broughtForwardModel.get.option, Some(deductionRoutes.lossesBroughtForward().toString))

        @{if (deductionsAnswers.get.broughtForwardModel.get.option)
            summaryNumericRowHelper("broughtForwardLossesValue",Messages("calc.resident.lossesBroughtForwardValue.title", taxYear.get.taxYearSupplied), deductionsAnswers.get.broughtForwardValueModel.get.amount,Some(deductionRoutes.lossesBroughtForwardValue().toString))
        }
    }
    <!-- Deductions Answers End --->

    @if(incomeAnswers.isDefined) {

        @{summaryNumericRowHelper("currentIncome",
        if(isCurrentTaxYear){Messages("calc.resident.currentIncome.questionCurrentYear")}
        else{Messages("calc.resident.currentIncome.question", taxYear.get.taxYearSupplied)},
        incomeAnswers.get.currentIncomeModel.get.amount,Some(incomeRoutes.currentIncome().toString))}

        @{summaryNumericRowHelper("personalAllowance",
        {if(isCurrentTaxYear) {Messages("calc.resident.personalAllowance.currentYearQuestion")}
        else {Messages("calc.resident.personalAllowance.question", taxYear.get.taxYearSupplied)}},
        incomeAnswers.get.personalAllowanceModel.get.amount,Some(incomeRoutes.personalAllowance().toString))}

    }


</section>

